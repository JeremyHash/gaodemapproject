(function(t){function e(e){for(var i,r,c=e[0],s=e[1],l=e[2],p=0,d=[];p<c.length;p++)r=c[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/gaodemapproject/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01d0":function(t,e,n){"use strict";var i=n("283a"),a=n.n(i);a.a},"283a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("a133"),n("ed0d"),n("f09c"),n("e117");var i=n("0261"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{app:""}},[n("v-app-bar",{staticClass:"white--text",attrs:{color:"indigo accent-2",app:"","clipped-left":!0,tile:""}},[n("v-app-bar-nav-icon",{staticClass:"white--text",on:{click:t.switchBar}}),n("v-toolbar-title",[t._v(t._s(t.AppTitle))]),n("v-spacer"),t.isLogin?n("v-btn",{staticClass:"white--text mr-2",attrs:{icon:""},on:{click:t.handleAccountSignOut}},[n("v-icon",[t._v("mdi-account")]),t._v(" 退出 ")],1):n("v-btn",{staticClass:"white--text mr-2",attrs:{icon:""},on:{click:t.handleAccountClick}},[n("v-icon",[t._v("mdi-account")]),t._v(" 登陆 ")],1)],1),n("v-navigation-drawer",{attrs:{clipped:this.jeremy2,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-card",{staticClass:"mx-auto my-10",staticStyle:{"border-radius":"50%",overflow:"hidden","z-index":"999999999999"},attrs:{width:"200px",height:"200px",flat:""},on:{click:t.handleImgClick}},[n("v-img",{attrs:{src:"http://www.openluat.com/img/favicon.png"}})],1),n("v-list-item-group",{attrs:{mandatory:""}},[n("v-list",{attrs:{shaped:""}},t._l(t.items,(function(e){return n("v-list-item",{key:e.title,on:{click:function(n){return t.handleNavListItemClick(e.link)}}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"ml-6"},[t._v(t._s(e.title))])],1)],1)})),1)],1)],1),n("router-view")],1)},o=[],r=(n("e35a"),n("5e9f"),{name:"App",data:function(){return{AppTitle:"LuatMap",drawer:null,jeremy2:!0,items:[{title:"Map",icon:"mdi-map-search",link:"/"},{title:"Me",icon:"mdi-account-search",link:"/me"},{title:"About",icon:"mdi-information",link:"/about"}]}},methods:{switchBar:function(){this.drawer=!this.drawer},handleImgClick:function(){},handleAccountClick:function(){this.$router.replace("/login")},handleAccountSignOut:function(){this.$store.commit("changeUserKey","undefined"),this.$store.commit("changeIsLogin",!1),this.$router.replace("/")},handleNavListItemClick:function(t){this.$router.replace(t)}},computed:{isLogin:function(){return this.$store.state.isLogin}},mounted:function(){this.$store.commit("changeIsLogin",localStorage.isLogin),this.$store.commit("changeUserKey",localStorage.userKey)}}),c=r,s=n("9ca4"),l=n("7033"),u=n.n(l),p=n("0ba7"),d=n("ba95"),m=n("85d6"),f=n("de9d"),h=n("93cd"),v=n("4325"),g=n("1ebc"),y=n("3935"),b=n("f2a0"),x=n("184c"),k=n("f785"),w=n("ca0c"),_=n("8c4c"),L=n("3bd3"),V=n("fe00"),C=Object(s["a"])(c,a,o,!1,null,null,null),K=C.exports;u()(C,{VApp:p["a"],VAppBar:d["a"],VAppBarNavIcon:m["a"],VBtn:f["a"],VCard:h["a"],VIcon:v["a"],VImg:g["a"],VList:y["a"],VListItem:b["a"],VListItemContent:x["a"],VListItemGroup:k["a"],VListItemIcon:w["a"],VListItemTitle:x["b"],VNavigationDrawer:_["a"],VSpacer:L["a"],VToolbarTitle:V["a"]});var I=n("3f11"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("div",{attrs:{id:"container"}},[n("v-chip",{staticClass:"mt-8 mr-4 float-right",attrs:{color:"indigo","text-color":"white",id:"cityChip"}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",[t._v("mdi-map-marker")])],1),t._v(" "+t._s(t.city)+" ")],1)],1)])},$=[],M=n("dd60"),O=n.n(M),A={name:"Map",data:function(){return{city:"定位中",originPath:[{x:116.478928,y:39.997761,sp:19,ag:0,tm:1478031031},{x:116.478907,y:39.998422,sp:10,ag:0,tm:2},{x:116.479384,y:39.998546,sp:10,ag:110,tm:3},{x:116.481053,y:39.998204,sp:10,ag:120,tm:4},{x:116.481793,y:39.997868,sp:10,ag:120,tm:5},{x:116.482898,y:39.998217,sp:10,ag:30,tm:6},{x:116.483789,y:39.999063,sp:10,ag:30,tm:7},{x:116.484674,y:39.999844,sp:10,ag:30,tm:8}]}},methods:{loadMap:function(){var t=this;O.a.load({key:"3c618ebb54475fb63eb35b900519cd6f",version:"2.0"}).then((function(e){var n=new e.Map("container",{resizeEnable:!0});e.plugin(["AMap.Geolocation","AMap.ToolBar","AMap.Scale"],(function(){var i=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,position:"RT",offset:[40,150],panToLocation:!0,zoomToAccuracy:!0,noIpLocate:3,noGeoLocation:0,getCityWhenFail:!0});function a(e){console.log("locate success"),t.city=e.city}function o(t){console.log("locate fail"),console.log(t)}n.addControl(i),i.getCurrentPosition((function(t,e){"complete"===t?a(e):o(e)})),n.addControl(new e.ToolBar({position:{top:"80px",right:"40px"}})),n.addControl(new e.Scale({position:"RB"}))}))})).catch((function(t){console.log(t)}))}},mounted:function(){this.loadMap()}},j=A,T=(n("01d0"),n("2ec0")),P=n("3a3f"),B=n("0cf3"),E=Object(s["a"])(j,S,$,!1,null,"7160719d",null),N=E.exports;u()(E,{VAvatar:T["a"],VChip:P["a"],VIcon:v["a"],VMain:B["a"]});var U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("v-card",[n("v-list",t._l(t.tree,(function(e){return n("v-list-group",{key:e.sid,scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(n){t.$set(e,"active",n)},expression:"service.active"}},t._l(e.terminals,(function(e){return n("v-list-item",{key:e.tid},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1)})),1)],1)],1)},G=[],H={name:"Me",components:{},data:function(){return{tree:[]}},methods:{},created:function(){if("false"===localStorage.isLogin)this.$router.replace("/login");else{var t=this,e=localStorage.userKey,n={method:"get",url:"https://tsapi.amap.com/v1/track/service/list?key="+e};this.axios(n).then((function(n){if(n)for(var i=n.data.data.results,a=function(n){t.tree[n]=i[n],t.tree[n].icon="mdi-cloud-search",t.tree[n].terminals=[],0===n&&(t.tree[n].active=!0);var a={method:"get",url:"https://tsapi.amap.com/v1/track/terminal/list?key="+e+"&sid="+i[n].sid};t.axios(a).then((function(e){for(var i=e.data.data.results,a=0;a<i.length;a++)t.tree[n].terminals[a]=i[a]}))},o=0;o<i.length;o++)a(o);console.log(t.tree)})).catch((function(t){console.log(t)}))}},computed:{}},J=H,z=n("e93d"),R=Object(s["a"])(J,U,G,!1,null,null,null),F=R.exports;u()(R,{VCard:h["a"],VList:y["a"],VListGroup:z["a"],VListItem:b["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VMain:B["a"]});var Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("div",{staticStyle:{"text-align":"center","margin-top":"200px"}},[n("v-btn",{attrs:{outlined:"",color:"primary",dark:""},on:{click:t.handleNameClick}},[t._v("联系我(HashJeremy) ")])],1)])},q=[],D={name:"About",components:{},methods:{handleNameClick:function(){console.log("click"),window.location.href="https://gitee.com/HashJeremy"}}},W=D,Q=Object(s["a"])(W,Y,q,!1,null,"f53b8a2e",null),X=Q.exports;u()(Q,{VBtn:f["a"],VMain:B["a"]});var Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[t.isLogin?n("div",[n("v-text-field",{staticClass:"ma-12",attrs:{label:"Your key","prepend-inner-icon":"mdi-key-variant",readonly:"",outlined:""},model:{value:t.userKey,callback:function(e){t.userKey=e},expression:"userKey"}}),n("div",{staticStyle:{"text-align":"center"}},[n("v-btn",{attrs:{width:"200px",outlined:"",color:"primary"},on:{click:t.handleSignOut}},[t._v("退出 ")])],1)],1):n("div",[n("v-text-field",{ref:"inputKey",staticClass:"ma-12",attrs:{label:"Your key","prepend-inner-icon":"mdi-key-variant",rules:t.rules,clearable:"",outlined:""},model:{value:t.inputKey,callback:function(e){t.inputKey=e},expression:"inputKey"}}),n("div",{staticStyle:{"text-align":"center"}},[n("v-btn",{attrs:{width:"200px",outlined:"",color:"primary"},on:{click:t.handleLogin}},[t._v("登陆 ")])],1)],1)])},tt=[],et={name:"Login",data:function(){return{inputKey:"",rules:[function(t){return!!t||"UserKey is Required."}]}},methods:{handleLogin:function(){""!==this.inputKey&&(this.$store.commit("changeUserKey",this.inputKey),this.$router.replace("/"),this.$store.commit("changeIsLogin",!0))},handleSignOut:function(){this.$store.commit("changeUserKey","undefined"),this.$store.commit("changeIsLogin",!1)}},mounted:function(){},computed:{userKey:function(){return console.log("userKey refresh = "+this.$store.state.userKey),this.$store.state.userKey},isLogin:function(){var t="string"==typeof this.userKey&&"undefined"!==this.userKey;return this.$store.commit("changeIsLogin",t),t}}},nt=et,it=n("1d5f"),at=Object(s["a"])(nt,Z,tt,!1,null,null,null),ot=at.exports;u()(at,{VBtn:f["a"],VMain:B["a"],VTextField:it["a"]}),i["a"].use(I["a"]);var rt=[{path:"/",name:"Home",component:N},{path:"/me",name:"Me",component:F},{path:"/about",name:"About",component:X},{path:"/login",name:"Login",component:ot}],ct=new I["a"]({mode:"history",base:"/gaodemapproject/",routes:rt}),st=ct,lt=n("9f3a");i["a"].use(lt["a"]);var ut=new lt["a"].Store({state:{userKey:"",isLogin:!1},mutations:{changeUserKey:function(t,e){t.userKey=e,localStorage.userKey=e},changeIsLogin:function(t,e){t.isLogin=e,localStorage.isLogin=e}},actions:{},modules:{}}),pt=n("b164");i["a"].use(pt["a"]);var dt=new pt["a"]({}),mt=n("82ae"),ft=n.n(mt);i["a"].config.productionTip=!1,i["a"].prototype.axios=ft.a,new i["a"]({router:st,store:ut,vuetify:dt,render:function(t){return t(K)}}).$mount("#app")}});
//# sourceMappingURL=app.d3239c89.js.map